

When running SSA dry-run
```
k apply -f v1beta3-config/notify3.yaml --dry-run=server --server-side
receiver.notification.toolkit.fluxcd.io/r3 serverside-applied (server dry run)
Error from server: request to convert CR to an invalid group/version: notification.toolkit.fluxcd.io/v1beta1
Error from server: request to convert CR to an invalid group/version: notification.toolkit.fluxcd.io/v1beta1
```

Managed fields are v1beta1 after migration
```
k -n flux-system get alert a3-copy -oyaml --show-managed-fields
apiVersion: notification.toolkit.fluxcd.io/v1beta3
kind: Alert
metadata:
  creationTimestamp: "2025-10-03T01:36:11Z"
  generation: 1
  labels:
    kustomize.toolkit.fluxcd.io/name: config-copy
    kustomize.toolkit.fluxcd.io/namespace: flux-system
    v: new
  managedFields:
  - apiVersion: notification.toolkit.fluxcd.io/v1beta1
    fieldsType: FieldsV1
    fieldsV1:
      f:metadata:
        f:labels:
          f:kustomize.toolkit.fluxcd.io/name: {}
          f:kustomize.toolkit.fluxcd.io/namespace: {}
          f:v: {}
      f:spec:
        f:eventSeverity: {}
        f:eventSources: {}
        f:providerRef:
          f:name: {}
    manager: kustomize-controller
    operation: Apply
    time: "2025-10-03T01:36:11Z"
  name: a3-copy
  namespace: flux-system
  resourceVersion: "728"
  uid: 7ad03e08-b330-4b87-ac64-0dff3940fad5
spec:
  eventSeverity: error
  eventSources:
  - kind: GitRepository
    name: '*'
  - kind: Kustomization
    name: '*'
  providerRef:
    name: pr3
```


When running `flux migrate` after 2.7.0 upgrade & v1beta1 removed:
```
E1003 05:49:25.209289       1 fieldmanager.go:155]
"[SHOULD NOT HAPPEN] failed to update managedFields" err="failed to update ManagedFields
(flux-system/a2-copy; notification.toolkit.fluxcd.io/v1beta3, Kind=Alert):
request to convert CR to an invalid group/version: notification.toolkit.fluxcd.io/v1beta1"
versionKind="notification.toolkit.fluxcd.io/v1beta3, Kind=Alert" namespace="flux-system" name="a2-copy"
```

Manged fields end up empty after post 2.7.0 migrate: (this is what fixes the problem)
```
k -n flux-system get alert a1 -oyaml --show-managed-fields
apiVersion: notification.toolkit.fluxcd.io/v1beta3
kind: Alert
metadata:
  creationTimestamp: "2025-10-03T01:36:10Z"
  generation: 1
  labels:
    kustomize.toolkit.fluxcd.io/name: config
    kustomize.toolkit.fluxcd.io/namespace: flux-system
    v: new
  name: a1
  namespace: flux-system
  resourceVersion: "33359"
  uid: e7e241b7-97f1-4344-ad62-94c38ceebbdb
spec:
  eventSeverity: error
  eventSources:
  - kind: GitRepository
    name: '*'
  - kind: Kustomization
    name: '*'
  providerRef:
    name: pr1
```